apiVersion: v1beta1
kind: Kustomization

resources:
- ../rbac/rbac_role.yaml
- ../rbac/rbac_role_binding.yaml
- ../manager/manager.yaml

secretGenerator:
- commands:
    api-key: printf $EXOSCALE_API_KEY
    compute-endpoint: printf $EXOSCALE_COMPUTE_ENDPOINT
    secret-key: printf $EXOSCALE_SECRET_KEY
  name: exoscale-controller-secrets
  namespace: cluster-api-provider-exoscale-system
  type: Opaque
patchesStrategicMerge:
- manager_image_patch.yaml
